# 理解できた、なんとなくわかった事一覧
##### 兄に解説してもらうか、対話型AIに解説してもらうか、調べるかしてわかった事
###### 未解決は[こちら](https://github.com/suzukidog/TIL/blob/main/UnfamiliarConcepts.md)
<br>
<br>



- **defineとconstの違い**
<br>ドットインストールの質問欄にも同じ疑問があって先生が答えていたがよくわからず…。
あとから代入できないようにする
> 定義できる範囲の違い。constは狭く、defineは広い範囲定義できる。
> <br>ちなみに備忘録として、どちらも変数に代入するときに使うもので、これを使うとこの後に同じ変数に違う値を代入できなくなる。
> <br>`const $a = "apple"`この後に`$a = "amazon"`と代入しようとしても無駄！
***

- **PHP_EOLとはなにか**
<br>コード上で改行され、ブラウザ上では改行されない？ことなるOSでも使用可能？
<br>なんのためにコード上でのみ改行するんだろう？
<br>そもそもコード上ってどういうことだ…？
> 簡単にいうとコード見やすくする君
***

- **returnとはなにか**
<br>これは以前勉強したときにも理解できていないかった。
> 関数の外に結果を出してあげられるもの
> <br>function関数内で定義された処理の結果を、function外に出してあげるのが彼の仕事。
> <br>functionを工場と例えるとreturnは製品出荷口（工場の例えは[このページ](https://webukatu.com/wordpress/blog/16116/)の受け売り）
***

- **==と===の違い**
<br>うーんよくわからん。
> 厳密に文字列と数値を判別できるかできないかの違い
> <br>`"1" == 1`はtrueと認識し、`"1" === 1`はfalseと認識する。
> 迷ったらとりあえず===を使っておけばいいっぽい。
***

- **fgets(STDIN)**
<br>なんとなくはわかってるつもり。入力されたものを取得してくれる…みたいな関数。
<br>ただどんな場面で使われるのかがわからない。
<br>調べたりGPTに聞いたところ、キーボードやファイルから入力するとか、ターミナルやコマンドラインで使うとか説明されるのだが雰囲気をつかめない。
<br>そもそも、ターミナルってコマンドを打つところじゃないの？コマンドじゃなく文字列を入力する場面があるの？
<br>webエンジニアとしては頻繁に使う関数じゃないらしいけど、理解はしておきたいね。
> webエンジニアになる上であまり深く理解する必要はないみたい。
***

- **for文とwhile文の違い**
<br>あらかじめ繰り返す回数がわかっている場合はfor文、わかっていない場合はwhile文を使う。みたいなことを聞いたけど…どういうこと？
> これもconstとdefineの違いみたいな問題。今の認識で間違っていないみたい。
> <br>ちなみに実務では大体for文を使うらしい。
***

<ul>
  <li>
    <b>foreach</b>
<br>あまりはっきりと理解できていない。なにを理解していないのか言語化が難しいが…。
<pre><code>$item = array("薬草", "上薬草", "特薬草);
foreach ($item as $value) {
    echo $value . "\n";
}</code></pre>
    このようなコードの時、key($item)のvalue($value)に新たに繰り返し代入する操作だが、foreachの外で既に代入されているのにまた代入する意味は？
    <br>わからないことがわかっていない状態かもしれない。
  </li>
</ul>

> どういう動きなのか大体理解できた。
> <br>詳しく書くと長くなるので、詳細は[04/03のページ](https://github.com/suzukidog/TIL/blob/main/2024/04/03.md)へ。
***

- **【再】==と===の違い**
<br>==より===の方が厳密に判断してくれる。というのは以前わかった。
<br>ただ、今回勉強中にまた一つ疑問が出てきた。
<ul>
  <img src="https://github.com/suzukidog/TIL/assets/54813237/1bc33921-c494-4428-b440-4ad55dcb28c6" width="70%">
<br>正しく出力できるできないの問題。
<br>俺が思うに、===は「数値の1しか絶対通しません。お前は文字列の1だから通しません。キマリは通さない。」と判断したのではないか？と思っているのだが、入力欄にある1は半角だしな…。隣に空白があって文字列と判断されたか？とも思ったり、ちょっとワカラナイ。
</ul>

> やっぱり文字列として認識していたからみたい。
***

- **【Udemy】エラーを吐いてくれなくなった**
<br>現在2chを作っていて、名前欄もしくは本文に文字が入っていない状態で送信をするとbody内にエラーメッセージを表示する機能をつけたのだが、
<br>リファクタリングの最中にどうも機能しなくなってしまった。GPTに助けを求めているがまだ解決に至っていない。
<ul>
  
> [!TIP]
> リファクタリングをする際は、ファイルを分けた都度動作確認をした方が良い。（どこで不具合が発生したのか特定しにくくなる。）
  
</ul>

> インクルード先が間違えていた。
> <br>教材の動画内では違うファイルをインクルードして正常に動いていたので、PHPのバージョンの違いによる動作の変化なのかな？
***

- **【Udemy】投稿するとデータベースに二重に挿入されてしまう**
<br>他のスレッドにコメントを書き込める機能を作ったあたりから、コメントを書き込むと二重に書き込まれる（データベースにも二重に挿入される）バグが発生してしまった。
<br>どこかでデータベースに二重に挿入するコードがあるはずだが、見つからない。CursorのChatGPTも当てにならない…。
> 解決した。
> <br>動画内では無くても大丈夫だったようだが、俺の場合コメントが送信された直後にリダイレクトさせて、最後にexitすることで二重に書き込まれなくなった。
> <br>どうしてこれで解決したのか、はっきりと理解できていないが先に進もう。
***

- **【Udemy】書き込み後リダイレクトしても同じ位置にとどまりたい**
<br>教材のQ&Aにも同じ質問があったが答えがなかった。
<br>ChatGPTやClaudeに修正を頼んだり、教材のコードを丸コピしてもダメ。
<br>うーん、もしかして他のファイルに問題があるのか？
<br>ちなみにこれはJavascriptなので本当に意味がわからない。
<br>これがなきゃ先に進めないというわけではないので先に進むが、この教材が終わったら一度全てのファイルをコピーして動作するか確認してみる。
> 二週目でなにも問題なく動いた。
> <br>おそらく、前回はリファクタリングの時点でディレクトリの生成を誤ったことで、インクルードがよくわからないことになり正しく動かなかったのではないか。と思う。
***

- **連想配列の追加時**
<br>理解していないとかではなくただ納得いかないものだが、
<br>連想配列では`$item = array("薬草" => 20);`だったのが、追加する時には`$item["薬草"] = 20;`になる。
<br>何が言いたいかというと、どちらも同じ操作なのに`=>`と`=`で違うのが納得いかないということ。
<br>ついでに最初はカッコ内に収まっていたのが追加時にはカッコ外に飛び出ているのも許せん！統一しろ！
> そういうもんだ！
***

- **二次元配列のarrayと[]**
<ul>
<table>
<tr><td>
  
```CPP
$enemy = [      
  [A, B, C],
  [D, E, F],
  [G, H, I],
];
```
</td><td>

```CPP
$enemy = array(      
  array(A, B, C),
  array(D, E, F),
  array(G, H, I),
);
```

</td>
</tr>
<table>
</table>
これはどちらを使ってもいいのかな？書きやすさ、スマートさで選ぶなら[]なんだけど…。
</ul>

> どちらでも良し！
> <br>俺は新しく描きやすい[]を使います！
***

- **.(ドット)と,(カンマ)の使い分け**
<br>現在例外処理を勉強中なのだが、`echo "発生した例外:" , $e , "\n";`というようにカンマを使用した。
<br>「echoは関数ではない。echoはカンマ区切りで複数のデータを渡すことができる。」としか説明がないのでよくわからなかった。
<br>`echo "発生した例外:" . $e . "\n";`これでも動いてくれるのでどう使い分けてるのかわからん…。
<br>ドットは「複数のデータを繋げて出力」、カンマは「複数のデータを各々echoする」という解説もみたがあまり納得できなかった。
> どちらも出力結果は変わらない。が、内部処理に違いがある。
> <br>カンマは「①各々の要素をそのまま出力」という1工程なのに対して、ドットは「①各々の要素を繋げる→②出力」という2工程なためメモリ使用量が増えてしまう。
> <br>とはいえ大規模なものでない限りメモリ使用量をそこまで気にするほどではなく、一般的にドットを使うことが多いらしいのでドットでよし。
***

- **;(セミコロン)などの使い分け**
<br>これはドットとカンマに似た疑問。
<br>関数や構文などでは、複数のデータを指定する時にカンマやセミコロンを使うがこれは覚えるしかないのだろうか？
<br>例えばfor文を書く時に`for ($i = 1, $i <= 10, $i++)`と書いてしまうことがある。
<br>書いている最中にエラー？バツマークが出てくれて気がつくが、どちらかわからないことが多々ある。
> やっているうちに覚えるもの。だが理解すればなんとなくどちらを使えば良いかわかる。
> <br>カンマは複数の要素を宣言？するものに対して、セミコロンはほとんどのプログラミング言語で終了を意味する。
> <br>今回のfor分を例に出すと、
> <br>まず`$i = 1`で初期値を宣言←これで終了。`$i <= 10`で10以下と宣言←これで終了。`$i++`でひとつずつ増やす←これで終了。
> <br>というようにそれぞれで完結する。説明が下手なので改めてみたときに理解できるか不安だが…。
> <br>結局はそういうものだと覚えるしかない。
***

- **requireの指定はカッコで囲む？**
<br>`require_once "views/content.tpl.php";`これと`require_once ("views/content.tpl.php");`これ
<br>どちらもできてしまった。好みの問題？
> 好みの問題。
> <br>俺ならカッコなしかな？
***

- **EloquentでSQLデータ管理**
<ul>
  <pre><code>$player = new Player;
$player->name = '霧島1号';
$player->level = 1;
$player->job_id = 1;
$player->save();</pre></code>
このようにコード上でデータを追加した場合、更新するごとにデータが追加されていってしまう。
<br>大丈夫なんだろうか？なにか制御できるコードを今後学ぶのかな？
<br>（↓一回追加した後ブラウザを3回更新した状態）
<br><img width="50%" alt="SCR-20240415-lrsv" src="https://github.com/suzukidog/TIL/assets/54813237/9f759f93-b25e-4abc-b4d5-8605d9c7d207">
</ul>

> 2chもどきを作った時も「更新するごとに前回投稿したレスポンスが投稿されてしまう」という問題があり、それと同じような解決方法でいい。
> <br>具体的には、追加処理が終わったら新たなページにリダイレクトさせてあげると解決する。
> <br>他にも対策はあるが詳しく書くと長くなるので省略。
***

- **include先をわかりやすくしたい**
<br>わからないことじゃないが、「このファイルってどこにincludeされてるんだっけ？」ということが多々ある。
<br>これを解決するにはコメントで記しておく以外ないのだろうか？
> コメントで記す以外にも使っているテキストエディターの拡張機能などが存在する模様。
> <br>コメントで記すほうが直感的にわかりやすそうだけど、邪魔になるかな？
***

- **クッキーとセッション**
<br>ざっくり簡単にいうと、クッキーはそのままの情報が含まれている。
<br>セッションは情報自体はサーバーにあり、その情報と照合するための暗号がクッキーとしてクライアントに送られる。
<br>そこはわかったが、セキュリティ面で強いセッションじゃなくわざわざクッキーを使うメリットってなに？
> セッションの場合、サーバーの負担になる（どんな負担か具体的には理解しきれていない）ことがあるので、カートに入れた商品の情報をクッキーで管理するなど一時的なデータの保存にはクッキーが適している。
***

- **難しすぎて理解できないpart1**
<ul>
  
```
if (auth()->attempt(["username" => $incomingFields["loginusername"], "password" => $incomingFields["loginpassword"]])) {
    $request->session()->regenerate();
    return "Congrats!";
} else {
    return "Sorry...";
}
```

なんだよこれ、if文に詰め込みすぎだろ。意味わからん
<br>ログインするときにusernameとpasswordが合っていればCongratsもしくはSorryを返すよ。
<br>っていうコードなんだと思うけど、詰め込みすぎてよくわからなくなってる。
</ul>

> `auth()`で認証する。正しければtrueを返す。
> <br>`attempt()`で中身を実行する。今回の場合は`auth()`に使うためのusernameとpasswordを取り出している。
> <br>`$request->session()->regenerate()`セッションの再生成。セキュリティ向上のために一度セッションを破棄して、もう一度作り直している。
> <br>原理はわかったがこれを一から書く自信はないな…。
***

- **Target class [] does not exist.**
<br>教材通りに進んでもサイトがうまく動かなくなってしまい、GPTに手伝ってもらっても原因が突き止められず、教材がアップしてくれている見本と睨めっこ。
<br>すると「あれ…？なんか俺のlaravelディレクトリ少なくね？」
<br>足りない部分を教材から拝借しコピペしてみると、エラーは消えたものの全ページ404状態。オワタ。
<br>コピペしたことでバージョンの違いで噛み合わないとかそういうこと…？あれ、教材のPHPとLaravel最新バージョンじゃなかった…？
<br>コピペ前のファイルを残していないために後戻りもできず、なんてこった。バックアップしておけばよかった…。
<ul>
<br><strong>いや！俺にはあいつがいる！！</strong>

<br>ちょっと前に使い始めた[Rewind](https://www.rewind.ai/)、これで遡ってコピペ前のコードを見つけるのだ！
<br>そんなこんなで戻ってこれました。戻ってきたのでエラーは未解決のまま。
<br>次回の俺に任せよう。
</ul>

> 簡単に言えばバージョンの違いで噛み合わなかった。
> <br>[Qiitaの解決ページへ](https://qiita.com/suzukidog/items/a28e219f3be2a0d61b8d#%E8%A7%A3%E6%B1%BA20240610)

---
- **ユーザー認証？がうまくいかない**
<br>[詳細](https://qiita.com/suzukidog/items/c4bd6b785b09a18fef1b)
> キャッシュクリアと再起動で解決した。
> <br>[Qiitaの解決ページへ](https://qiita.com/suzukidog/items/c4bd6b785b09a18fef1b#%E8%A7%A3%E6%B1%BA20240618)
